

ä»¥ä¸‹æ˜¯ Swift å¹¶å‘ï¼ˆSwift Concurrencyï¼‰ç³»ç»Ÿçš„**å®Œæ•´å¤§çº²**ï¼Œå¹¶åŒ…å«äº†æ¯ä¸ªç‰¹æ€§çš„ **iOS æ”¯æŒæœ€ä½ç‰ˆæœ¬**ï¼ˆå³åœ¨å“ªä¸ª iOS ç³»ç»Ÿç‰ˆæœ¬ä¸­å¼€å§‹å¯ç”¨ï¼‰ï¼š

* * *

## ğŸ§µ ä¸€ã€åŸºæœ¬æ„å»ºå—ï¼ˆåŸºç¡€å¹¶å‘ï¼‰

| ç‰¹æ€§                              | ç®€ä»‹                    | æ”¯æŒç‰ˆæœ¬                          |
| ------------------------------- | --------------------- | ----------------------------- |
| `async` / `await`               | æ ‡è®°å¼‚æ­¥å‡½æ•°å’Œç­‰å¾…å¼‚æ­¥ç»“æœ         | âœ… iOS 13+ï¼ˆç¼–è¯‘å™¨è¦æ±‚ iOS 15+ é»˜è®¤å¯ç”¨ï¼‰ |
| `Task`                          | ç”¨äºåˆ›å»ºå¹¶æ‰§è¡Œç»“æ„åŒ–å¹¶å‘çš„å¼‚æ­¥ä»»åŠ¡     | âœ… iOS 15+                     |
| `Task.sleep`                    | å¼‚æ­¥ç¡çœ ï¼Œä¸é˜»å¡çº¿ç¨‹            | âœ… iOS 15+                     |
| `TaskGroup`                     | ç»“æ„åŒ–å¹¶å‘ä¸‹çš„å¹¶è¡Œä»»åŠ¡ç»„          | âœ… iOS 15+                     |
| `async let`                     | å¹¶å‘å¯åŠ¨å¤šä¸ªå¼‚æ­¥ä»»åŠ¡ï¼ˆè¯­æ³•ç³–ï¼‰       | âœ… iOS 15+                     |
| `try await`                     | å¼‚æ­¥é”™è¯¯å¤„ç†è¯­æ³•              | âœ… iOS 15+                     |
| `await withCheckedContinuation` | å°†ä¼ ç»Ÿå›è°ƒå°è£…ä¸º `async` å¼‚æ­¥è°ƒç”¨ | âœ… iOS 13+ï¼ˆå¯é€‰ä½¿ç”¨ï¼‰ï¼Œæ¨è iOS 15+    |
| `DetachedTask`                  | å¯åŠ¨è„±ç¦»å½“å‰ä¸Šä¸‹æ–‡çš„ç‹¬ç«‹ä»»åŠ¡        | âœ… iOS 15+                     |

* * *

## ğŸ“ äºŒã€ä¸»çº¿ç¨‹è°ƒåº¦å’Œéš”ç¦»

| ç‰¹æ€§                     | ç®€ä»‹               | æ”¯æŒç‰ˆæœ¬      |
| ---------------------- | ---------------- | --------- |
| `@MainActor`           | ä¿è¯å‡½æ•°æˆ–ç±»å±æ€§åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œ  | âœ… iOS 15+ |
| `MainActor.run`        | åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œå¼‚æ­¥ä»£ç å—     | âœ… iOS 15+ |
| `@MainActor` + `await` | åå°çº¿ç¨‹è°ƒç”¨æ—¶ä¼šè‡ªåŠ¨è°ƒåº¦å›ä¸»çº¿ç¨‹ | âœ… iOS 15+ |

* * *

## ğŸ§© ä¸‰ã€Actorsï¼ˆå¹¶å‘å¯¹è±¡æ¨¡å‹ï¼‰

| ç‰¹æ€§                 | ç®€ä»‹                  | æ”¯æŒç‰ˆæœ¬      |
| ------------------ | ------------------- | --------- |
| `actor`            | ç±»ä¼¼ç±»ï¼Œä½†ä¿è¯å†…éƒ¨çŠ¶æ€çš„çº¿ç¨‹å®‰å…¨æ€§   | âœ… iOS 15+ |
| `nonisolated`      | ç”¨äºæ ‡è®°ä¸å‚ä¸ actor éš”ç¦»çš„æˆå‘˜ | âœ… iOS 15+ |
| `@MainActor actor` | æŒ‡å®šè¯¥ actor ç»‘å®šä¸»çº¿ç¨‹æ‰§è¡Œ   | âœ… iOS 15+ |

* * *

## ğŸ“¦ å››ã€é«˜çº§åŠŸèƒ½

| ç‰¹æ€§                  | ç®€ä»‹               | æ”¯æŒç‰ˆæœ¬      |
| ------------------- | ---------------- | --------- |
| `Sendable`          | ç±»å‹å®‰å…¨ç‰¹æ€§ï¼Œç”¨äºè·¨çº¿ç¨‹å‘é€æ•°æ® | âœ… iOS 15+ |
| `@Sendable` closure | æ˜ç¡®å£°æ˜é—­åŒ…æ˜¯çº¿ç¨‹å®‰å…¨çš„     | âœ… iOS 15+ |
| `@preconcurrency`   | å‘åå…¼å®¹æ—§çš„éå¹¶å‘ API è°ƒç”¨ | âœ… iOS 15+ |
| `UnstructuredTask`  | ä¸å—çˆ¶ä»»åŠ¡æ§åˆ¶çš„å¼‚æ­¥ä»»åŠ¡     | âœ… iOS 15+ |

* * *

## ğŸ§ª äº”ã€æµ‹è¯•å’Œè°ƒè¯•å·¥å…·

| å·¥å…·/æ¦‚å¿µ                              | ç®€ä»‹                      |
| ---------------------------------- | ----------------------- |
| Xcode Concurrency Debugger         | å¯è§†åŒ–æŸ¥çœ‹ä»»åŠ¡æ‰§è¡Œã€actor ä½¿ç”¨ç­‰å¹¶å‘ä¿¡æ¯ |
| Instruments with Swift Concurrency | åˆ†æå¼‚æ­¥ä»»åŠ¡è¡Œä¸ºä¸çº¿ç¨‹è°ƒåº¦           |

* * *

## ğŸ“… æ”¯æŒç‰ˆæœ¬æ±‡æ€»ï¼ˆç³»ç»Ÿè¦æ±‚ï¼‰

| ç‰¹æ€§                      | iOS æ”¯æŒç‰ˆæœ¬                    |
| ----------------------- | --------------------------- |
| Swift Concurrency æœ€æ ¸å¿ƒç‰¹æ€§ | iOS 13+ï¼ˆéƒ¨åˆ†ä¾èµ–åå¤‡ polyfill æ”¯æŒï¼‰ |
| å…¨é‡æ”¯æŒï¼ˆæ¨èï¼‰                | âœ… iOS 15+                   |
| Xcode 13+ + Swift 5.5+  | å¹¶å‘è¯­æ³•æ­£å¼å¯ç”¨                    |

> âš ï¸ æ³¨æ„ï¼šè™½ç„¶ `async/await` åœ¨ iOS 13+ å¯è¿è¡Œï¼ˆé€šè¿‡ back-deploymentï¼‰ï¼Œä½†ä½ éœ€è¦ä½¿ç”¨ Xcode 13+ å¹¶æ˜ç¡®åœ¨æ„å»ºè®¾ç½®ä¸­å¯ç”¨æ”¯æŒï¼ˆDeployment Target â‰¥ iOS 13ï¼Œå‹¾é€‰ â€œEnable Back Deployment of Concurrencyâ€ï¼‰ã€‚
